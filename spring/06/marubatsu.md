# まるばつクイズを作ろう

JavaScriptの授業第２回目です。
今回はまるばつクイズを作ります。
前回よりもJavaScriptが難しくなりますが、がんばっていきましょう。

まるばつクイズの仕様は以下のとおりです。

* 問題は10問
* ○か×ボタンで答える
* 答えると次の問題が表示される
* 最後まで答えると正解数がでる

完成イメージは以下のような形です。デザインは時間があれば好きなようにCSSをいじってみましょう。

![Screenshot](images/1.png)

## テンプレートファイル

前回と同様、[テンプレート](./template.zip?raw=true)を解凍してから始めてください。

## HTMLの基本仕様

`<body>`の中身です。必要な`div`要素は以下のとおりです。

* `<div id="question">` : 問題を表示する部分
* `<div id="buttons">` : ボタンを表示する部分

ボタンの書き方は以下のようにしてください。

```html
<input type="button" class="button" value="○" onclick="hantei(1)">
<input type="button" class="button" value="×" onclick="hantei(2)">
```

`class="button"`はCSSでデザインを当てるために指定しています。`value`にはボタンに表示される文字を書きます。

`onclick`ではまるボタンを押したら1を引数として渡し、ばつボタンを押したら2を引数として渡すようにします。前回はJavScript中に`addEventListener`を書くことでクリックされた時の動作を記述していましたが、同様の動作をonclick属性でもかけます。

## CSSの基本仕様

基本的にはテンプレートファイルの`style.css`に予め書かれています。デザインを変更したい場合は好きに変更してみてください。

* border-radius : 縁取りの丸み
* outline : ボタン選択の際の囲み
* cursor : カーソルの種類の指定

## JavaScriptの基本仕様

プログラムの流れを記述しておきます。

1. 問題を保存する配列の定義
1. プログラムで使う変数の定義
1. 問題文を表示させる
1. 答えがあっているか判定を行う
1. 次の問題が表示されるようにする
1. もし10問目が終われば正解数を表示する

#### 手順１

まず、問題と解答を保存する配列を作ります。今回は問題は10問で、各配列の１つ目には問題文を、２つ目には答えを入れておきます。答えが○の場合は1を、×の場合は2をいれておきます。

```javascript
var qa = [
  ['「テトリス（ゲーム）」を開発したのは、日本人だ。', 2],
  ['生きている間は、有名な人であっても広辞苑に載ることはない。 ', 1],
  ['現在、2000円札は製造を停止している。', 1],
  ['パトカーは、取り締まっている最中であれば、どこでも駐車違反になることはない。', 2],
  ['昆虫の中には、口で呼吸する昆虫もいる。', 2],
  ['一般的に体の水分は、男性より女性のほうが多く含まれている。', 2],
  ['たとえ１ｃｍの高さであっても、地震によって起こるのは全て「津波」である。', 1],
  ['1円玉の直径は、ちょうど１ｃｍになっている。', 2],
  ['塩はカロリー０である。', 1],
  ['「小中学校は、PTAを作らなければならない」と法律で定められている。', 2]
];
```

#### 手順２

次に今回使う変数を定義します。初期値はどちらも`0`です。

* 今何問目にいるのかを保存する変数（例: count）
* 正解数を保存する変数（例: correctNum）

#### 手順３

次に、クイズの問題文を表示しましょう。手順１で作成した配列と、手順２で作成した`何問目にいるかを保存する変数（count）`を組み合わせて問題を表示します。

`qa[count][0]`で問題文を取ってくることができるので、`document.getElementById`と`innerHTML`をつかって`<div id="question"></div>`の中に問題文を表示してみましょう。

１問目の問題が表示されれば、次に進んでください。

#### 手順４

次は答えの判定をするための`hantei`関数を実装します。○ボタンが押された場合`1`が、×ボタンが押された場合`2`が渡されるので、まずは、if文でどちらのボタンが押されたか判定をします。

その後、選ばれたボタンが問題の答えとして正しいかどうかを判定します。判定には、`qa`配列にある答えの番号を用います。あっていた場合、`正解数を保存する変数（correctNum）`を+1し、間違っていた場合はなにもしません。

まだボタンを押しても次の問題が表示されないので、次の問題に移るようにしていきます。

#### 手順５

次の問題に移るようにするためには、`今何問目にいるのかを保存する変数（count）`を+1して、`<div id="question"></div>`の中身を`qa[count][0]`にすればよいですね。`count`が+1されているので次の問題が表示されます。

#### 手順６

今のままだと、無限にゲームが続いてしまうので、終了条件をつけます。終了条件は１０問答え終わったら、すなわち、`今何問目にいるのかを保存する変数（count）`が9になったときですね。この終了を判定するif文は`hantei`関数に追記しましょう。

if文の中には、正解数を表示する`alert`を書いて完成です。

  [次へ まるばつクイズを作ろう(解答)](./06/marubatsu2.md)
  [次へ まるばつクイズを作ろう(解答)](../06/marubatsu2.md)
 
  [次へ まるばつクイズを作ろう(解答)](../06/marubatsu2.md)
